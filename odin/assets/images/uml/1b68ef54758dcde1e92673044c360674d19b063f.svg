<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="369px" preserveAspectRatio="none" style="width:1358px;height:369px;" version="1.1" viewBox="0 0 1358 369" width="1358px" zoomAndPan="magnify"><defs><filter height="300%" id="f9ydx3flukgh9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="57" x2="57" y1="86.4883" y2="282.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="562" x2="562" y1="86.4883" y2="282.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="663" x2="663" y1="86.4883" y2="282.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="855" x2="855" y1="86.4883" y2="282.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1000" x2="1000" y1="86.4883" y2="282.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1133" x2="1133" y1="86.4883" y2="282.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1273" x2="1273" y1="86.4883" y2="282.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="8" y="83.5352">User/Browser</text><ellipse cx="57.5" cy="13" fill="#FEFECE" filter="url(#f9ydx3flukgh9)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M57.5,21 L57.5,48 M44.5,29 L70.5,29 M57.5,48 L44.5,63 M57.5,48 L70.5,63 " fill="none" filter="url(#f9ydx3flukgh9)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="8" y="294.8867">User/Browser</text><ellipse cx="57.5" cy="307.8398" fill="#FEFECE" filter="url(#f9ydx3flukgh9)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M57.5,315.8398 L57.5,342.8398 M44.5,323.8398 L70.5,323.8398 M57.5,342.8398 L44.5,357.8398 M57.5,342.8398 L70.5,357.8398 " fill="none" filter="url(#f9ydx3flukgh9)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f9ydx3flukgh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="537" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="544" y="71.5352">Odin</text><rect fill="#FEFECE" filter="url(#f9ydx3flukgh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="537" y="281.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="544" y="301.8867">Odin</text><rect fill="#FEFECE" filter="url(#f9ydx3flukgh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="598" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="605" y="71.5352">OpenID Provider</text><rect fill="#FEFECE" filter="url(#f9ydx3flukgh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="598" y="281.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="605" y="301.8867">OpenID Provider</text><rect fill="#FEFECE" filter="url(#f9ydx3flukgh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="792" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="799" y="71.5352">Token endpoint</text><rect fill="#FEFECE" filter="url(#f9ydx3flukgh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="792" y="281.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="799" y="301.8867">Token endpoint</text><rect fill="#FEFECE" filter="url(#f9ydx3flukgh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="929" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="936" y="71.5352">UserInfo endpoint</text><rect fill="#FEFECE" filter="url(#f9ydx3flukgh9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="929" y="281.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="936" y="301.8867">UserInfo endpoint</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1081" y="83.5352">User Identities</text><path d="M1115,34 C1115,24 1133,24 1133,24 C1133,24 1151,24 1151,34 L1151,60 C1151,70 1133,70 1133,70 C1133,70 1115,70 1115,60 L1115,34 " fill="#FEFECE" filter="url(#f9ydx3flukgh9)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1115,34 C1115,44 1133,44 1133,44 C1133,44 1151,44 1151,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1081" y="294.8867">User Identities</text><path d="M1115,307.8398 C1115,297.8398 1133,297.8398 1133,297.8398 C1133,297.8398 1151,297.8398 1151,307.8398 L1151,333.8398 C1151,343.8398 1133,343.8398 1133,343.8398 C1133,343.8398 1115,343.8398 1115,333.8398 L1115,307.8398 " fill="#FEFECE" filter="url(#f9ydx3flukgh9)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1115,307.8398 C1115,317.8398 1133,317.8398 1133,317.8398 C1133,317.8398 1151,317.8398 1151,307.8398 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="1195" y="83.5352">UserMachineIdentities</text><path d="M1255.5,34 C1255.5,24 1273.5,24 1273.5,24 C1273.5,24 1291.5,24 1291.5,34 L1291.5,60 C1291.5,70 1273.5,70 1273.5,70 C1273.5,70 1255.5,70 1255.5,60 L1255.5,34 " fill="#FEFECE" filter="url(#f9ydx3flukgh9)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1255.5,34 C1255.5,44 1273.5,44 1273.5,44 C1273.5,44 1291.5,44 1291.5,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="1195" y="294.8867">UserMachineIdentities</text><path d="M1255.5,307.8398 C1255.5,297.8398 1273.5,297.8398 1273.5,297.8398 C1273.5,297.8398 1291.5,297.8398 1291.5,307.8398 L1291.5,333.8398 C1291.5,343.8398 1273.5,343.8398 1273.5,343.8398 C1273.5,343.8398 1255.5,343.8398 1255.5,333.8398 L1255.5,307.8398 " fill="#FEFECE" filter="url(#f9ydx3flukgh9)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1255.5,307.8398 C1255.5,317.8398 1273.5,317.8398 1273.5,317.8398 C1273.5,317.8398 1291.5,317.8398 1291.5,307.8398 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><polygon fill="#A80036" points="550.5,113.7988,560.5,117.7988,550.5,121.7988,554.5,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57.5" x2="556.5" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="64.5" y="113.0566">Selects new account registration</text><polygon fill="#A80036" points="68.5,143.1094,58.5,147.1094,68.5,151.1094,64.5,147.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="62.5" x2="561.5" y1="147.1094" y2="147.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="481" x="74.5" y="142.3672">Generates OpenID Connect Authorize request and redirects to OpenID server</text><polygon fill="#A80036" points="651,172.4199,661,176.4199,651,180.4199,655,176.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57.5" x2="657" y1="176.4199" y2="176.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="64.5" y="171.6777">Authenticates</text><polygon fill="#A80036" points="68.5,201.7305,58.5,205.7305,68.5,209.7305,64.5,205.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="62.5" x2="662" y1="205.7305" y2="205.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="74.5" y="200.9883">Redirects user back to Odin with one-time code</text><polygon fill="#A80036" points="550.5,231.041,560.5,235.041,550.5,239.041,554.5,235.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57.5" x2="556.5" y1="235.041" y2="235.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="64.5" y="230.2988">Request authorization with one-time code</text><polygon fill="#A80036" points="573.5,260.3516,563.5,264.3516,573.5,268.3516,569.5,264.3516" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="843.5,260.3516,853.5,264.3516,843.5,268.3516,847.5,264.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="567.5" x2="849.5" y1="264.3516" y2="264.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="579.5" y="259.6094">Exchange one-time code for access-token</text><!--
@startuml


actor "User/Browser" as user
participant Odin as odin
participant "OpenID Provider" as openId
participant "Token endpoint" as getToken
participant "UserInfo endpoint" as userInfo
database "User Identities" as usersDb
database "UserMachineIdentities" as machinesDb

user -> odin : Selects new account registration
user <- odin : Generates OpenID Connect Authorize request and redirects to OpenID server
user -> openId : Authenticates
user <- openId : Redirects user back to Odin with one-time code
user -> odin : Request authorization with one-time code
odin <-> getToken : Exchange one-time code for access-token



@enduml

PlantUML version 1.2018.14(Fri Dec 21 17:33:16 CET 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9.0.4+11
Operating System: Mac OS X
OS Version: 10.14.5
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>